function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{TysS:function(e,t,n){"use strict";n.r(t),n.d(t,"HarborcontrolModule",(function(){return m}));var o=n("PCNd"),r=n("tyNb"),a=n("tk/3"),i=function(e){return e[e.CargoShip=1]="CargoShip",e[e.SailBoat=2]="SailBoat",e[e.SpeedBoat=3]="SpeedBoat",e}({}),c=function(e){return e[e.InQueue=1]="InQueue",e[e.InProgress=2]="InProgress",e[e.Completed=3]="Completed",e[e.CannotProcess=4]="CannotProcess",e}({}),s=n("fXoL"),b=n("eBIT"),u=n("ABqZ"),l=n("3Pt+"),d=n("ofXK");function p(e,t){if(1&e&&(s.Mb(0,"tr",17),s.Mb(1,"th",18),s.cc(2),s.Lb(),s.Mb(3,"td"),s.cc(4),s.Lb(),s.Mb(5,"td"),s.cc(6),s.Lb(),s.Lb()),2&e){var n=t.$implicit,o=s.Vb(2);s.zb(2),s.dc(o.getBoatType(n.boatType)),s.zb(2),s.dc(n.boatSpeed),s.zb(2),s.dc(o.getBoatStatus(n.boatStatus))}}function f(e,t){if(1&e&&(s.Mb(0,"div",11),s.Mb(1,"table",12),s.Mb(2,"thead",13),s.Mb(3,"tr"),s.Mb(4,"th",14),s.cc(5,"Boat Type"),s.Lb(),s.Mb(6,"th",14),s.cc(7,"Boat Speed (KM/h)"),s.Lb(),s.Mb(8,"th",15),s.cc(9,"BoatStatus"),s.Lb(),s.Lb(),s.Lb(),s.Mb(10,"tbody"),s.bc(11,p,7,3,"tr",16),s.Lb(),s.Lb(),s.Lb()),2&e){var n=s.Vb();s.zb(11),s.Wb("ngForOf",n.boatList)}}function h(e,t){1&e&&(s.Mb(0,"div"),s.Mb(1,"strong"),s.Mb(2,"span"),s.cc(3," There are no boats."),s.Lb(),s.Lb(),s.Lb())}var g,S,L,v=[{path:"",component:(g=function(){function e(t,n){_classCallCheck(this,e),this.windService=t,this.boatService=n,this.windSpeed=0,this.boatList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getWindSpeed()}},{key:"getWindSpeed",value:function(){var e=this;this.windService.getWindDetails().subscribe((function(t){e.windSpeed=+parseFloat(String(18*t.wind.speed/5)).toFixed(2)}),(function(e){alert("Error while getting the wind speed.")}))}},{key:"generateBoat",value:function(){var e=this;if(+this.count>0){var t=(new a.c).append("count",""+ +this.count);this.boatService.generateRandomBoats(t).subscribe((function(t){e.boatList=e.boatList.concat(t),e.count=void 0,e.boatList.some((function(e){return e.boatStatus===c.InProgress}))||e.processBoats()}),(function(e){alert("Error while generating the boats")}))}else alert("Please Enter a number greater than 0.")}},{key:"getBoatStatus",value:function(e){switch(e){case c.InProgress:return"In Progress";case c.InQueue:return"In Queue";case c.Completed:return"Completed";case c.CannotProcess:return"You can not enter in perimeter."}}},{key:"getBoatType",value:function(e){switch(e){case i.CargoShip:return"Cargo Ship";case i.SailBoat:return"Sailboat";case i.SpeedBoat:return"Speedboat"}}},{key:"refresh",value:function(){this.getWindSpeed()}},{key:"processBoats",value:function(){var e=this,t=this.boatList.find((function(e){return e.boatStatus===c.InQueue}));t.boatType===i.SailBoat&&(this.windSpeed<10||this.windSpeed>30)?(t.boatStatus=c.CannotProcess,this.processBoats()):(t.boatStatus=c.InProgress,setTimeout((function(){t.boatStatus=c.Completed,e.boatList.some((function(e){return e.boatStatus===c.InQueue}))&&e.processBoats()}),1e3*t.duration))}}]),e}(),g.\u0275fac=function(e){return new(e||g)(s.Jb(b.a),s.Jb(u.a))},g.\u0275cmp=s.Db({type:g,selectors:[["app-harborcontrol"]],decls:23,vars:4,consts:[[1,"wrapper"],[1,"card","col-lg-12","mt-2"],[1,"card-body"],[1,"row","col-lg-12"],[1,"btn","btn-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"row","col-lg-12","mt-3"],["type","text",1,"form-control","col-lg-2","ml-2",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-ship"],["class","col-lg-12",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],["mdbTable","","striped","true",1,"table","col-lg-12"],[1,"black","white-text"],["scope","col col-lg-3"],["scope","col col-lg-4 "],["mdbTableCol","",4,"ngFor","ngForOf"],["mdbTableCol",""],["scope","row"]],template:function(e,t){1&e&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"div",2),s.Mb(3,"div",3),s.Mb(4,"div"),s.Mb(5,"span"),s.Mb(6,"strong"),s.cc(7," Current Wind Speed : "),s.Lb(),s.cc(8),s.Lb(),s.Mb(9,"button",4),s.Tb("click",(function(){return t.refresh()})),s.Kb(10,"i",5),s.cc(11," Refresh "),s.Lb(),s.Lb(),s.Lb(),s.Mb(12,"div",6),s.Mb(13,"strong"),s.Mb(14,"span"),s.cc(15,"Enter the number of boats to generate"),s.Lb(),s.Lb(),s.Mb(16,"input",7),s.Tb("ngModelChange",(function(e){return t.count=e})),s.Lb(),s.Mb(17,"button",4),s.Tb("click",(function(){return t.generateBoat()})),s.Kb(18,"i",8),s.cc(19," Generate "),s.Lb(),s.Lb(),s.Mb(20,"div",6),s.bc(21,f,12,1,"div",9),s.Lb(),s.bc(22,h,4,0,"div",10),s.Lb(),s.Lb(),s.Lb()),2&e&&(s.zb(8),s.ec(" ",t.windSpeed," kmph "),s.zb(8),s.Wb("ngModel",t.count),s.zb(5),s.Wb("ngIf",t.boatList.length>0),s.zb(1),s.Wb("ngIf",0==t.boatList.length))},directives:[l.a,l.c,l.d,d.i,d.h],styles:[""]}),g)}],M=((L=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:L}),L.\u0275inj=s.Gb({factory:function(e){return new(e||L)},imports:[[r.b.forChild(v)],r.b]}),L),m=((S=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:S}),S.\u0275inj=s.Gb({factory:function(e){return new(e||S)},imports:[[o.a,M]]}),S)}}]);